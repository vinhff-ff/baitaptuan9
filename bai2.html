<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body style="display: flex; flex-direction: column; gap: 10px;"> 
    <button onclick="nhapHang()">nhap</button>
    <button onclick="tinhTong()">tinh tong</button>
    <div style="display: flex; gap: 10px;">
        <input type="text" placeholder="Tìm hàng" id="timKiem">
        <button onclick="timKiemHang()">Tìm</button>
    </div>
    <button onclick="maxPrices()">Sản phẩm có giá cao nhất</button>
    <button class="sapXepTang" onclick="SapXep()">SapXep</button>
</body>
<script>
    var a = []
    function nhapHang() {
        var n = prompt('Nhap so luong hang hoa: ')
        for (let i = 0; i < Number(n); i++) {
            let dsProduct = {
                id: i+1,
                namePro: "",
                price : 0,
                quantity: 0
            }
            let ten = prompt(`Ten mat hang ${i}`)
            let gia = prompt(`Gia ${i}`)
            let quantity = prompt(`So luong ${i}`)
            dsProduct.namePro = ten
            dsProduct.price = Number(gia)
            dsProduct.quantity = Number(quantity)
            a.push(dsProduct)
        }
    }

    var sum = 0;
    function tinhTong() {
        for (let i = 0; i < a.length; i++) {
            sum += a[i].price * a[i].quantity
        }
        document.write(sum)
    }

    function timKiemHang (){
        const search = document.getElementById('timKiem').value;
        for (let i = 0; i < a.length; i++){
            if (search === a[i].namePro){
                document.write(
                    a[i].id,
                    a[i].namePro,
                    a[i].price,
                    a[i].quantity
                )
            }
        }
        
    }

    function maxPrices (){
        let maxPrice = a[0].price;
        let viTri = 0;
        for (let i = 0; i < a.length; i++){
            if (maxPrice <= a[i].price){
                maxPrice = a[i].price
                viTri = i
            }
        }
        document.write(
            a[viTri].id,
            a[viTri].namePro,
            a[viTri].gia,
            a[viTri].quantity
        )
    }

    function SapXep (){
        for (let i = 0; i < a.length; i++){
            for (let j = 0; j < a.length - i - 1; j++){
                if (a[j].price > a[j+1].price){
                    let temp = a[j].price
                    a[j].price = a[j+1].price
                    a[j+1].price = temp
                }
            }
        }
        for (let i = 0; i < a.length; i++){
            document.write(a[i].id)
            document.write(a[i].namePro)
            document.write(a[i].price)
            document.write(a[i].quantity)
            document.write('<br/>')
        }
    }

</script>

</html>